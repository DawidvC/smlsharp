_require "basis/main/General.smi"
_require "basis/main/smlnj/Basis/NJ/cleanup.smi"

structure SMLSharpSMLNJ_CleanIO =
struct
  type tag (= unit ref)
  val osInitHook : (unit -> unit) ref
  val stdStrmHook : (unit -> unit) ref
  val addCleaner : {init : unit -> unit,
                    flush : unit -> unit,
	            close : unit -> unit} -> tag
  val rebindCleaner : tag * {init : unit -> unit,
	                     flush : unit -> unit,
	                     close : unit -> unit} -> unit
  val removeCleaner : tag -> unit
end
